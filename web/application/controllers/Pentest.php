<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Pentest extends CI_Controller {
	protected $authorize = false;
	

	public function __construct() {
		parent::__construct();
		// Your own constructor code

		$this->load->model('Pagini_model', '_Pagini');
		
		$this->load->model('Sendemail_model', "_Sendemail");
	}

	public function index()
	{
		$this->load->view('testweb_welcome');
	}
	
	public function metweb($param = null)
	{
		$this->load->view('testweb_metweb', array('param' => $param));
	}
	
	public function sendemail($param = null)
	{
		$this->authorize = true;// authorizeNextAction
		$this->_SendAnEmail();
	}
	
	private function _SendAnEmail() { if(!$this->authorize): var_dump("ERR#99");die(); endif;
	
		$to = "ciprianaxaxx@gmail.com";
		
		$this->_Sendemail->send($to, "Subject Test From WebEtwas ".rand(1, 4999), "Test this shit!", "html");		
	}
}
